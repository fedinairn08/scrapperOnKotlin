CREATE TABLE CHAT (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY NOT NULL,
    chat_id BIGINT NOT NULL UNIQUE
);

CREATE TABLE LINK (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY NOT NULL,
    url VARCHAR(255) NOT NULL,
    chat BIGINT REFERENCES CHAT(id) ON DELETE CASCADE,
    last_update TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL
);

CREATE TABLE GITHUB_INFO (
     id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY NOT NULL,
     last_commit_count INTEGER NOT NULL DEFAULT 0,
     last_branch_count INTEGER NOT NULL DEFAULT 0,
     link_id BIGINT REFERENCES LINK(id) ON DELETE CASCADE
);